"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[6736],{16736:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var r=n(29439),s=n(33649),a=n(44461),i=n(88391),c=n(74931),o=n(40099),l=n(82362),d=n(81087),u=n(64444),x=n(23712);var p,m=function(e){return(0,x.jsx)("div",{className:"flex flex-col flex-auto",children:(0,x.jsx)(o.j3,{})})},f=n(95590),h=n(13960),Z=n(99498),g=n(13663),j=n(33784),v=n(4942),y=n(74165),k=n(15861),b=n(51551),w=n(88173),N=n(63387),I=n.n(N),S=n(42362),P=n(76311),A=(0,b.hg)("tasksApp/tasks/getTasks",function(){var e=(0,k.Z)((0,y.Z)().mark((function e(t,n){var r,s;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,e.next=3,I().get("/api/tasks");case 3:return r=e.sent,e.next=6,r.data;case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),O=(0,b.hg)("tasksApp/tasks/reorder",function(){var e=(0,k.Z)((0,y.Z)().mark((function e(t,n){var r,s,a,i,c;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.startIndex,s=t.endIndex,a=n.dispatch,n.getState,e.next=4,I().post("/api/tasks/reorder",{startIndex:r,endIndex:s});case 4:return i=e.sent,e.next=7,i.data;case 7:return c=e.sent,a((0,S.PV)({message:"List Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),z=(0,b.HF)({}),D=z.getSelectors((function(e){return e.tasksApp.tasks})),C=D.selectAll,F=(D.selectById,(0,w.P1)([C],(function(e){return e.filter((function(e){return"task"===e.type&&!e.completed})).length}))),T=(0,b.oM)({name:"tasksApp/tasks",initialState:z.getInitialState(),extraReducers:(p={},(0,v.Z)(p,O.fulfilled,z.setAll),(0,v.Z)(p,P.xJ.fulfilled,z.upsertOne),(0,v.Z)(p,P.gI.fulfilled,z.addOne),(0,v.Z)(p,P.F6.fulfilled,(function(e,t){return z.removeOne(e,t.payload)})),(0,v.Z)(p,A.fulfilled,z.setAll),p)}),_=(T.actions.setTasksSearchText,T.reducer);var L=function(e){var t=(0,c.v9)(F);return(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row item-center sm:items-start space-y-16 sm:space-y-0 p-24 sm:p-32 w-full border-b-1 flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-12",children:[(0,x.jsx)(f.Z,{component:h.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:"Tasks"}),(0,x.jsx)(f.Z,{component:h.E.span,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},delay:500,className:"text-14 font-medium ml-2",color:"text.secondary",children:"".concat(t," remaining tasks")})]}),(0,x.jsxs)("div",{className:"flex items-center -mx-8",children:[(0,x.jsxs)(Z.Z,{className:"mx-8 whitespace-nowrap",component:g.Z,to:"new/section",children:[(0,x.jsx)(j.Z,{size:20,children:"heroicons-outline:plus"}),(0,x.jsx)("span",{className:"mx-8",children:"Add Section"})]}),(0,x.jsxs)(Z.Z,{className:"mx-8 whitespace-nowrap",variant:"contained",color:"secondary",component:g.Z,to:"new/task",children:[(0,x.jsx)(j.Z,{size:20,children:"heroicons-outline:plus"}),(0,x.jsx)("span",{className:"mx-8",children:"Add Task"})]})]})]})},R=n(31417),E=n(59643),H=n(1413),J=n(79174),B=n(43747),K=n(81129),U=n(7790),W=n(15866),M=n(62263),V=n(29595);var Y=function(e){var t=e.data,n=e.index,r=(0,c.I0)();return(0,x.jsx)(E._l,{draggableId:t.id,index:n,type:"list",children:function(e,n){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(J.ZP,(0,H.Z)((0,H.Z)({className:(0,V.Z)(n.isDragging?"shadow-lg":"shadow","px-40 py-12 group"),sx:{bgcolor:"background.paper"},button:!0,component:g.Z,to:"/apps/tasks/".concat(t.id),ref:e.innerRef},e.draggableProps),{},{children:[(0,x.jsx)("div",(0,H.Z)((0,H.Z)({className:"md:hidden absolute flex items-center justify-center inset-y-0 left-0 w-32 cursor-move md:group-hover:flex"},e.dragHandleProps),{},{children:(0,x.jsx)(j.Z,{sx:{color:"text.disabled"},size:20,children:"heroicons-solid:menu"})})),(0,x.jsx)(U.Z,{className:"min-w-40 -ml-10 mr-8",children:(0,x.jsx)(W.Z,{sx:{color:t.completed?"secondary.main":"text.disabled"},onClick:function(e){e.preventDefault(),e.stopPropagation(),r((0,P.xJ)((0,H.Z)((0,H.Z)({},t),{},{completed:!t.completed})))},children:(0,x.jsx)(j.Z,{children:"heroicons-outline:check-circle"})})}),(0,x.jsx)(B.Z,{classes:{root:"m-0",primary:"truncate"},primary:t.title}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsxs)("div",{children:[0===t.priority&&(0,x.jsx)(j.Z,{className:"text-green icon-size-16 mx-12",children:"heroicons-outline:arrow-narrow-down"}),2===t.priority&&(0,x.jsx)(j.Z,{className:"text-red icon-size-16 mx-12",children:"heroicons-outline:arrow-narrow-up"})]}),t.dueDate&&(0,x.jsx)(f.Z,{className:"text-12 whitespace-nowrap",color:"text.secondary",children:(0,M.Z)(new Date(t.dueDate),"LLL dd")})]})]})),(0,x.jsx)(K.Z,{})]})}})};var q=function(e){var t=e.data,n=e.index;return(0,x.jsx)(E._l,{draggableId:t.id,index:n,type:"list",children:function(e,n){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(J.ZP,(0,H.Z)((0,H.Z)({className:"px-40 py-12 group",sx:{bgcolor:"background.default"},button:!0,component:g.Z,to:"/apps/tasks/".concat(t.id),ref:e.innerRef},e.draggableProps),{},{children:[(0,x.jsx)("div",(0,H.Z)((0,H.Z)({className:"md:hidden absolute flex items-center justify-center inset-y-0 left-0 w-32 cursor-move md:group-hover:flex"},e.dragHandleProps),{},{children:(0,x.jsx)(j.Z,{sx:{color:"text.disabled"},size:20,children:"heroicons-solid:menu"})})),(0,x.jsx)(B.Z,{classes:{root:"m-0",primary:"font-semibold text-16 truncate"},primary:t.title})]})),(0,x.jsx)(K.Z,{})]})}})};var G=function(e){var t=(0,c.I0)(),n=(0,c.v9)(C);return n?0===n.length?(0,x.jsx)("div",{className:"flex flex-1 items-center justify-center h-full",children:(0,x.jsx)(f.Z,{color:"text.secondary",variant:"h5",children:"There are no tasks!"})}):(0,x.jsx)(R.Z,{className:"w-full m-0 p-0",children:(0,x.jsx)(E.Z5,{onDragEnd:function(e){e.destination&&e.destination.index!==e.source.index&&t(O({arr:n,startIndex:e.source.index,endIndex:e.destination.index}))},children:(0,x.jsx)(E.bK,{droppableId:"list",type:"list",direction:"vertical",children:function(e){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{ref:e.innerRef,children:n.map((function(e,t){return"task"===e.type?(0,x.jsx)(Y,{data:e,index:t},e.id):"section"===e.type?(0,x.jsx)(q,{index:t,data:e},e.id):null}))}),e.placeholder]})}})})}):null},Q=n(42601),X=n(1969),$=(0,Q.UY)({tags:X.ZP,tasks:_,task:P.ZP}),ee=(0,d.ZP)(s.Z)((function(e){return{"& .FusePageSimple-header":{backgroundColor:e.theme.palette.background.paper}}}));var te=(0,a.Z)("tasksApp",$)((function(e){var t=(0,c.I0)(),n=(0,i.useRef)(null),s=(0,o.UO)(),a=(0,i.useState)(!1),d=(0,r.Z)(a,2),p=d[0],f=d[1],h=(0,u.Z)((function(e){return e.breakpoints.down("lg")}));return(0,l.KW)((function(){t(A()),t((0,X.NJ)())}),[t]),(0,i.useEffect)((function(){f(Boolean(s.id))}),[s]),(0,x.jsx)(ee,{header:(0,x.jsx)(L,{pageLayout:n}),content:(0,x.jsx)(G,{}),ref:n,rightSidebarContent:(0,x.jsx)(m,{}),rightSidebarOpen:p,rightSidebarOnClose:function(){return f(!1)},rightSidebarWidth:640,scroll:h?"normal":"content"})}))}}]);