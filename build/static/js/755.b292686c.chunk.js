"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[755],{70755:function(e,n,t){t.r(n),t.d(n,{default:function(){return Tn}});var r,a=t(29439),i=t(44461),l=t(88391),o=t(74931),s=t(81087),c=t(76677),u=t(40099),d=t(18754),m=t(28480),p=t(64444),h=t(12799),f=t(95590),x=t(31417),v=t(4942),b=t(74165),g=t(15861),j=t(51551),Z=t(63387),y=t.n(Z),C=(0,j.hg)("notesApp/labels/getLabels",(0,g.Z)((0,b.Z)().mark((function e(){var n,t;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().get("/api/notes/labels");case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),w=(0,j.hg)("notesApp/labels/createLabel",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().post("/api/notes/labels",n);case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),N=(0,j.hg)("notesApp/labels/updateLabel",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().put("/api/notes/labels/".concat(n.id),n);case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),k=(0,j.hg)("notesApp/labels/removeLabel",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().delete("/api/notes/labels/".concat(n));case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),S=(0,j.HF)({}),A=S.getSelectors((function(e){return e.notesApp.labels})),D=A.selectAll,I=A.selectEntities,O=(A.selectById,(0,j.oM)({name:"notesApp/labels",initialState:S.getInitialState({labelsDialogOpen:!1}),reducers:{openLabelsDialog:function(e,n){e.labelsDialogOpen=!0},closeLabelsDialog:function(e,n){e.labelsDialogOpen=!1}},extraReducers:(r={},(0,v.Z)(r,C.fulfilled,S.setAll),(0,v.Z)(r,N.fulfilled,S.upsertOne),(0,v.Z)(r,k.fulfilled,S.removeOne),(0,v.Z)(r,w.fulfilled,S.addOne),r)})),z=O.actions,P=z.openLabelsDialog,E=z.closeLabelsDialog,T=function(e){return e.notesApp.labels.labelsDialogOpen},L=O.reducer,F=t(1413),R=t(82849),V=t(78886),M=t(79369),_=t(16867),H=t(15866),U=t(8991),q=t(79174),W=t(29595),B=t(65958),Q=t(33784);var X=function(e){return e=e||{},M.Z.defaults(e,{title:""})},Y=t(23712),$={title:""},G=B.Ry().shape({title:B.Z_().required("You must enter a label title")});var J=function(e){var n=(0,o.I0)(),t=(0,V.cI)({mode:"onChange",defaultValues:$,resolver:(0,R.X)(G)}),r=t.control,a=t.formState,i=t.handleSubmit,l=t.reset,s=a.isValid,c=a.dirtyFields,u=a.errors;return(0,Y.jsx)("form",{onSubmit:i((function(e){var t=X(e);n(w(t)),l($)})),children:(0,Y.jsx)(q.ZP,{className:"p-0 mb-16",dense:!0,children:(0,Y.jsx)(V.Qr,{name:"title",control:r,render:function(e){var n,t=e.field;return(0,Y.jsx)(_.Z,(0,F.Z)((0,F.Z)({},t),{},{className:(0,W.Z)("flex flex-1"),error:!!u.title,helperText:null===u||void 0===u||null===(n=u.title)||void 0===n?void 0:n.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,Y.jsx)(U.Z,{position:"start",children:(0,Y.jsx)(Q.Z,{color:"action",children:"heroicons-outline:tag"})}),endAdornment:(0,Y.jsx)(U.Z,{position:"end",children:(0,Y.jsx)(H.Z,{className:"w-32 h-32 p-0","aria-label":"Delete",disabled:M.Z.isEmpty(c)||!s,type:"submit",size:"large",children:(0,Y.jsx)(Q.Z,{color:"action",size:20,children:"heroicons-outline:check"})})})}}))}})})})},K=t(82362),ee=B.Ry().shape({title:B.Z_().required("You must enter a label title")});var ne=function(e){var n=e.label,t=(0,o.I0)(),r=(0,V.cI)({mode:"onChange",defaultValues:n,resolver:(0,R.X)(ee)}),a=r.control,i=r.formState,s=(r.handleSubmit,r.reset),c=r.watch,u=(i.isValid,i.dirtyFields,i.errors),d=c();(0,l.useEffect)((function(){s(n)}),[n,s]);var m=(0,K.Nr)((function(e,n){e&&d&&!M.Z.isEqual(n,e)&&t(N(n))}),300);function p(){t(k(n.id))}return(0,l.useEffect)((function(){m(n,d)}),[m,n,d]),(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(q.ZP,{className:"p-0 mb-16",dense:!0,children:(0,Y.jsx)(V.Qr,{name:"title",control:a,render:function(e){var n,t=e.field;return(0,Y.jsx)(_.Z,(0,F.Z)((0,F.Z)({},t),{},{className:(0,W.Z)("flex flex-1"),error:!!u.title,helperText:null===u||void 0===u||null===(n=u.title)||void 0===n?void 0:n.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,Y.jsx)(U.Z,{position:"start",children:(0,Y.jsx)(Q.Z,{color:"action",children:"heroicons-outline:tag"})}),endAdornment:(0,Y.jsx)(U.Z,{position:"end",children:(0,Y.jsx)(H.Z,{onClick:p,className:"w-32 h-32 p-0","aria-label":"Delete",size:"large",children:(0,Y.jsx)(Q.Z,{color:"action",size:20,children:"heroicons-outline:trash"})})})}}))}})})})};var te,re=function(e){var n=(0,o.I0)(),t=(0,o.v9)(T),r=(0,o.v9)(D);return(0,Y.jsxs)(h.Z,{classes:{paper:"w-full max-w-320 p-24 md:p-40 m-24"},onClose:function(e){return n(E())},open:t,children:[(0,Y.jsx)(f.Z,{className:"text-20 mb-24 font-semibold",children:"Edit Labels"}),(0,Y.jsxs)(x.Z,{dense:!0,children:[(0,Y.jsx)(J,{}),r.map((function(e){return(0,Y.jsx)(ne,{label:e},e.id)}))]})]})},ae=t(43162),ie=t(88173),le=(0,j.hg)("notesApp/notes/getNotes",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r,a,i;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.filter,t=n.id,"labels"===n.filter&&(r="/api/notes/labels/".concat(t)),"archive"===n.filter&&(r="/api/notes/archive"),"reminders"===n.filter&&(r="/api/notes/reminders"),n.filter||(r="/api/notes"),e.next=7,y().get(r);case 7:return a=e.sent,e.next=10,a.data;case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),oe=(0,j.hg)("notesApp/notes/createNote",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().post("/api/notes",n);case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),se=(0,j.hg)("notesApp/notes/updateNote",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().put("/api/notes/".concat(n.id),n);case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),ce=(0,j.hg)("notesApp/notes/removeNote",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n,t){var r,a,i;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.getState,e.next=3,y().delete("/api/notes/".concat(n));case 3:return a=e.sent,e.next=6,a.data;case 6:return i=e.sent,r(ge()),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ue=(0,j.HF)({}),de=ue.getSelectors((function(e){return e.notesApp.notes})),me=de.selectAll,pe=de.selectEntities,he=(de.selectById,(0,j.oM)({name:"notesApp/notes",initialState:ue.getInitialState({searchText:"",noteDialogId:null,variateDescSize:!0}),reducers:{setNotesSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}},resetNotesSearchText:function(e,n){e.searchText=""},toggleVariateDescSize:function(e,n){e.variateDescSize=!e.variateDescSize},openNoteDialog:function(e,n){e.noteDialogId=n.payload},closeNoteDialog:function(e,n){e.noteDialogId=n.null}},extraReducers:(te={},(0,v.Z)(te,le.fulfilled,ue.setAll),(0,v.Z)(te,oe.fulfilled,ue.addOne),(0,v.Z)(te,se.fulfilled,ue.upsertOne),(0,v.Z)(te,ce.fulfilled,ue.removeOne),te)})),fe=he.actions,xe=fe.setNotesSearchText,ve=(fe.resetNotesSearchText,fe.toggleVariateDescSize),be=fe.openNoteDialog,ge=fe.closeNoteDialog,je=function(e){return e.notesApp.notes.variateDescSize},Ze=function(e){return e.notesApp.notes.searchText},ye=(0,ie.P1)([function(e){return e.notesApp.notes.noteDialogId},pe],(function(e,n){return n[e]})),Ce=he.reducer,we=t(96650),Ne=t(99498),ke=t(1433),Se=t(90951),Ae=t(11849),De=t(7121),Ie=t(62263),Oe=t(93433),ze=t(60883);var Pe=function(e){return e=e||{},M.Z.defaults(e,{id:ze.Z.generateGUID(),content:"",completed:!1})},Ee={content:""},Te=B.Ry().shape({content:B.Z_().required("You must enter a label title")});var Le=function(e){var n=(0,V.cI)({mode:"onChange",defaultValues:Ee,resolver:(0,R.X)(Te)}),t=n.control,r=n.formState,a=n.handleSubmit,i=n.reset,l=r.isValid,o=r.dirtyFields,s=r.errors;return(0,Y.jsx)("form",{onSubmit:a((function(n){e.onListItemAdd(Pe(n)),i(Ee)})),children:(0,Y.jsx)(q.ZP,{className:"p-0",dense:!0,children:(0,Y.jsx)(V.Qr,{name:"content",control:t,render:function(e){var n,t=e.field;return(0,Y.jsx)(_.Z,(0,F.Z)((0,F.Z)({},t),{},{className:"flex flex-1",error:!!s.content,helperText:null===s||void 0===s||null===(n=s.content)||void 0===n?void 0:n.message,placeholder:"Add an item",variant:"standard",autoFocus:!0,hiddenLabel:!0,InputProps:{disableUnderline:!0,className:"px-2",startAdornment:(0,Y.jsx)(U.Z,{position:"start",children:(0,Y.jsx)(H.Z,{className:"w-32 h-32 p-0 -mx-6","aria-label":"Add",type:"submit",disabled:M.Z.isEmpty(o)||!l,size:"large",children:(0,Y.jsx)(Q.Z,{size:20,children:"heroicons-outline:plus"})})})}}))}})})})},Fe=t(66930);var Re=function(e){function n(n){e.onListItemChange(M.Z.setIn(e.item,n.target.name,"checkbox"===n.target.type?n.target.checked:n.target.value))}return e.item?(0,Y.jsxs)(q.ZP,{className:"p-0",dense:!0,children:[(0,Y.jsx)(Fe.Z,{className:"p-0",checked:e.item.completed,tabIndex:-1,disableRipple:!0,name:"completed",onChange:n,color:"default"}),(0,Y.jsx)(Se.Z,{className:(0,W.Z)("flex flex-1 mx-8",e.item.completed&&"line-through opacity-50"),name:"text",value:e.item.content,onChange:n,disableUnderline:!0}),(0,Y.jsx)(H.Z,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(){return e.onListItemRemove(e.item.id)},size:"large",children:(0,Y.jsx)(Q.Z,{size:20,children:"heroicons-outline:trash"})})]},e.item.id):null};var Ve=function(e){function n(n){e.onCheckListChange(e.tasks.map((function(e){return e.id===n.id?n:e})))}function t(n){e.onCheckListChange(e.tasks.filter((function(e){return e.id!==n})))}return e.tasks?(0,Y.jsx)("div",{className:e.className,children:(0,Y.jsxs)(x.Z,{dense:!0,children:[e.tasks.map((function(e){return(0,Y.jsx)(Re,{item:e,onListItemChange:n,onListItemRemove:t},e.id)})),(0,Y.jsx)(Le,{onListItemAdd:function(n){e.onCheckListChange([].concat((0,Oe.Z)(e.tasks),[n]))}})]})}):null},Me=t(42625),_e=t(43747),He=t(95914);var Ue=function(e){var n=(0,o.v9)(D),t=(0,l.useState)(null),r=(0,a.Z)(t,2),i=r[0],s=r[1];function c(){s(null)}return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(H.Z,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){e.stopPropagation(),s(e.currentTarget)},size:"large",children:(0,Y.jsx)(Q.Z,{size:20,children:"heroicons-outline:tag"})}),(0,Y.jsx)(He.ZP,{hideBackdrop:!0,open:Boolean(i),anchorEl:i,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"},children:(0,Y.jsx)(Me.Z,{onClickAway:c,children:(0,Y.jsx)(x.Z,{className:"p-0",children:n.map((function(n){return(0,Y.jsxs)(q.ZP,{button:!0,dense:!0,onClick:function(){return t=n.id,void e.onChange(M.Z.xor(e.note.labels,[t]));var t},children:[(0,Y.jsx)(Q.Z,{className:"list-item-icon",size:20,color:"action",children:e.note.labels.includes(n.id)?"heroicons-outline:check-circle":"heroicons-outline:minus-circle"}),(0,Y.jsx)(_e.Z,{className:"truncate px-8",primary:n.title,disableTypography:!0})]},n.id)}))})})})]})},qe=t(18807);var We=function(e){var n=new Date(e.reminder);return(0,Y.jsx)(qe.x,{clearable:!0,showTodayButton:!0,disablePast:!0,value:n,onChange:e.onChange,renderInput:function(e){return(0,Y.jsx)(_.Z,(0,F.Z)({sx:{"& .MuiInputAdornment-root":{minWidth:40,minHeight:40,m:0},"& .MuiOutlinedInput-notchedOutline":{display:"none"},"& .MuiOutlinedInput-root":{padding:0},"& .MuiInputBase-input":{position:"absolute",pointerEvents:"none",visibility:"hidden"}}},e))},components:{OpenPickerIcon:function(){return(0,Y.jsx)(Q.Z,{size:20,children:"heroicons-outline:bell"})}}})};var Be=function(e){return(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("label",{htmlFor:"button-file",children:[(0,Y.jsx)("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(n){var t=n.target.files[0];if(t){var r=new FileReader;r.readAsBinaryString(t),r.onload=function(){e.onChange&&e.onChange("data:".concat(t.type,";base64,").concat(btoa(r.result)))},r.onerror=function(){console.log("error on load image")}}}}),(0,Y.jsx)(H.Z,{className:"w-32 h-32 mx-4 p-0",component:"span",size:"large",children:(0,Y.jsx)(Q.Z,{size:20,children:"heroicons-outline:photograph"})})]})})};var Qe=function(e){return e=e||{},M.Z.defaults(e,{title:"",content:"",tasks:[],image:"",reminder:null,labels:[],archived:!1,createdAt:null,updatedAt:null})},Xe=t(41959);var Ye=function(e){return e.date?(0,Y.jsx)(Xe.Z,{icon:(0,Y.jsx)(Q.Z,{size:16,children:"heroicons-outline:clock"}),label:(0,Ie.Z)(new Date(e.date),"MMM dd yy, h:mm"),classes:(0,F.Z)({root:(0,W.Z)("h-24 border-0",e.className),label:"px-12 py-4 text-12 font-medium leading-none",deleteIcon:"w-16"},e.classes),sx:{color:"text.secondary",backgroundColor:function(e){return(0,c._j)(e.palette.background.default,.03)}},variant:"outlined",onDelete:e.onDelete}):null},$e=t(86827);var Ge=function(e){var n=(0,o.v9)(I);if(!n)return null;var t=n[e.id];if(!t)return null;var r=e.linkable?{element:$e.rU,onClick:function(e){e.stopPropagation()},to:"/apps/notes/labels/".concat(t.id)}:{};return(0,Y.jsx)(Xe.Z,(0,F.Z)((0,F.Z)({},r),{},{label:t.title,classes:(0,F.Z)({root:(0,W.Z)("h-24 border-0",e.className),label:"px-12 py-4 text-12 font-medium leading-none",deleteIcon:"w-16"},e.classes),sx:{color:"text.secondary",backgroundColor:function(e){return(0,c._j)(e.palette.background.default,.03)}},variant:"outlined",onDelete:e.onDelete}))},Je=B.Ry().shape({title:B.Z_(),content:B.Z_(),image:B.Z_(),tasks:B.IX(),oneOfThemRequired:B.Xg().when(["title","content","image","tasks"],{is:function(e,n,t,r){return!e&&!n&&!t&&!r||!!e&&!!n&&!!t&&!!r},then:B.Xg().required(""),otherwise:B.Xg()})});function Ke(e){var n=(0,l.useState)(!1),t=(0,a.Z)(n,2),r=t[0],i=t[1],s=(0,u.UO)(),c=((0,o.I0)(),M.Z.merge({},Qe(),e.note,s.labelId?{labels:[s.labelId]}:null,"archive"===s.id?{archived:!0}:null)),d=(0,V.cI)({mode:"onChange",defaultValues:c,resolver:(0,R.X)(Je)}),m=d.formState,p=d.handleSubmit,h=d.getValues,x=(d.reset,d.watch),v=d.setValue,b=d.control,g=m.isValid,j=m.dirtyFields,Z=(m.errors,x());function y(n){e.onCreate&&e.onCreate(n)}return(0,l.useEffect)((function(){e.note&&"new"!==e.variant&&e.onChange&&(M.Z.isEqual(e.note,Z)||e.onChange(Z))}),[Z,e,c]),(0,Y.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Y.jsx)(we.Z,{className:"flex flex-auto w-full max-h-640",children:(0,Y.jsxs)("div",{className:"w-full",children:[(0,Y.jsx)(V.Qr,{name:"image",control:b,defaultValue:"",render:function(e){var n=e.field,t=n.onChange,r=n.value;return r&&""!==r?(0,Y.jsxs)("div",{className:"relative",children:[(0,Y.jsx)("img",{src:r,className:"w-full block",alt:"note"}),(0,Y.jsx)(ke.Z,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",type:"button",onClick:function(){return t("")},children:(0,Y.jsx)(Q.Z,{size:20,children:"heroicons-outline:trash"})})]}):null}}),(0,Y.jsx)("div",{className:"px-20 my-16",children:(0,Y.jsx)(V.Qr,{name:"title",control:b,render:function(e){var n=e.field;return(0,Y.jsx)(Se.Z,(0,F.Z)((0,F.Z)({},n),{},{className:"font-semibold text-14",placeholder:"Title",type:"text",disableUnderline:!0,fullWidth:!0}))}})}),(0,Y.jsx)("div",{className:"px-20 my-16",children:(0,Y.jsx)(V.Qr,{name:"content",control:b,render:function(e){var n=e.field;return(0,Y.jsx)(Se.Z,(0,F.Z)((0,F.Z)({},n),{},{placeholder:"Take a note...",multiline:!0,rows:"4",disableUnderline:!0,fullWidth:!0}))}})}),(0,Y.jsx)(V.Qr,{name:"tasks",control:b,defaultValue:[],render:function(e){var n=e.field,t=n.onChange,a=n.value;return 0===(null===a||void 0===a?void 0:a.length)&&!r||!a&&!r?null:(0,Y.jsx)("div",{className:"px-16",children:(0,Y.jsx)(Ve,{tasks:a||[],onCheckListChange:function(e){return t(e)}})})}}),(Z.labels||Z.reminder||Z.createdAt)&&(0,Y.jsxs)("div",{className:"flex flex-wrap w-full px-20 my-16 -mx-4",children:[Z.reminder&&(0,Y.jsx)(Ye,{className:"mt-4 mx-4",date:Z.reminder,onDelete:function(){v("reminder",null)}}),(0,Y.jsx)(V.Qr,{name:"labels",control:b,defaultValue:[],render:function(e){var n=e.field,t=n.onChange,r=n.value;return r?r.map((function(e){return(0,Y.jsx)(Ge,{id:e,className:"mt-4 mx-4",onDelete:function(){return t(r.filter((function(n){return n!==e})))}},e)})):null}}),Z.createdAt&&(0,Y.jsxs)(f.Z,{color:"text.secondary",className:"text-12 mt-8 mx-4",children:["Edited: ",(0,Ie.Z)(new Date(Z.createdAt),"MMM dd yy, h:mm")]})]})]})}),(0,Y.jsxs)("div",{className:"flex flex-auto justify-between items-center px-16 pb-12",children:[(0,Y.jsxs)("div",{className:"flex items-center",children:[(0,Y.jsx)(Ae.Z,{title:"Remind me",placement:"bottom",children:(0,Y.jsx)("div",{children:(0,Y.jsx)(V.Qr,{name:"reminder",control:b,defaultValue:[],render:function(e){var n=e.field,t=n.onChange,r=n.value;return(0,Y.jsx)(We,{reminder:r,onChange:function(e){return t(e)}})}})})}),(0,Y.jsx)(Ae.Z,{title:"Add image",placement:"bottom",children:(0,Y.jsx)("div",{children:(0,Y.jsx)(Be,{onChange:function(e){return v("image",e,{shouldDirty:!0,shouldValidate:!0})}})})}),(0,Y.jsx)(Ae.Z,{title:"Add tasks",placement:"bottom",children:(0,Y.jsx)(H.Z,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return i(!r)},size:"large",children:(0,Y.jsx)(Q.Z,{size:20,children:"heroicons-outline:pencil-alt"})})}),(0,Y.jsx)(Ae.Z,{title:"Change labels",placement:"bottom",children:(0,Y.jsx)("div",{children:(0,Y.jsx)(Ue,{note:Z,onChange:function(e){return v("labels",e)}})})}),(0,Y.jsx)(V.Qr,{name:"archived",control:b,defaultValue:!1,render:function(n){var t=n.field,r=t.onChange,a=t.value;return(0,Y.jsx)(Ae.Z,{title:a?"Unarchive":"Archive",placement:"bottom",children:(0,Y.jsx)("div",{children:(0,Y.jsx)(H.Z,{className:"w-32 h-32 mx-4 p-0",onClick:function(){r(!a),"new"===e.variant&&setTimeout((function(){return y(h())}))},size:"large",children:(0,Y.jsx)(Q.Z,{size:20,children:a?"heroicons-solid:archive":"heroicons-outline:archive"})})})})}})]}),(0,Y.jsx)("div",{className:"flex items-center",children:"new"===e.variant?(0,Y.jsx)(Ne.Z,{className:"m-4 p-8",type:"submit",variant:"contained",color:"secondary",size:"small",onClick:p(y),disabled:M.Z.isEmpty(j)||!g,children:"Create"}):(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Ae.Z,{title:"Delete Note",placement:"bottom",children:(0,Y.jsx)(H.Z,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove,size:"large",children:(0,Y.jsx)(Q.Z,{size:20,children:"heroicons-outline:trash"})})}),(0,Y.jsx)(Ne.Z,{className:"m-4",onClick:e.onClose,variant:"default",children:"Close"})]})})]})]})}Ke.defaultProps={variant:"edit",note:null};var en=(0,De.Z)(Ke),nn=(0,l.forwardRef)((function(e,n){return(0,Y.jsx)(ae.Z,(0,F.Z)({direction:"up",ref:n},e))}));var tn=function(e){var n=(0,o.I0)(),t=(0,u.UO)(),r=(0,o.v9)(ye),a=(0,K.Nr)((function(e){n(se(e)).then((function(){n(le(t))}))}),600);return r?(0,Y.jsx)(h.Z,{classes:{paper:"w-full m-24"},TransitionComponent:nn,onClose:function(e){return n(ge())},open:Boolean(null===r||void 0===r?void 0:r.id),children:(0,Y.jsx)(en,{note:r,onChange:a,onClose:function(e){return n(ge())},onRemove:function(){n(ce(null===r||void 0===r?void 0:r.id))}})}):null},rn=t(56617);var an=function(e){var n=(0,o.I0)(),t=(0,l.useState)(!1),r=(0,a.Z)(t,2),i=r[0],s=r[1];function c(){i&&(s(!1),document.removeEventListener("keydown",u,!1))}function u(e){27===e.keyCode&&c()}return(0,Y.jsx)(rn.Z,{className:"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 shadow shrink-0 cursor-text",children:i?(0,Y.jsx)(Me.Z,{onClickAway:function(e){var n=document.querySelector(".prevent-add-close");!!n&&n.contains(e.target)||c()},children:(0,Y.jsx)("div",{className:"w-full",children:(0,Y.jsx)(en,{onCreate:function(e){n(oe(e)),c()},variant:"new"})})}):(0,Y.jsx)(f.Z,{className:"w-full px-16 py-12 text-16 w-full",color:"text.secondary",onClick:function(e){e.stopPropagation(),s(!0),document.addEventListener("keydown",u,!1)},children:"Take a note..."})})},ln=t(15671),on=t(43144),sn=t(97326),cn=t(60136),un=t(29388);function dn(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function mn(){return mn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},mn.apply(this,arguments)}function pn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function hn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pn(Object(t),!0).forEach((function(n){fn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function fn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var xn={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},vn=function(e){(0,cn.Z)(t,e);var n=(0,un.Z)(t);function t(e){var r,a;return(0,ln.Z)(this,t),(r=n.call(this,e)).reCalculateColumnCount=r.reCalculateColumnCount.bind((0,sn.Z)(r)),r.reCalculateColumnCountDebounce=r.reCalculateColumnCountDebounce.bind((0,sn.Z)(r)),a=r.props.breakpointCols&&r.props.breakpointCols.default?r.props.breakpointCols.default:parseInt(r.props.breakpointCols)||2,r.state={columnCount:a},r}return(0,on.Z)(t,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"componentDidUpdate",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"reCalculateColumnCountDebounce",value:function(){var e=this;window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((function(){e.reCalculateColumnCount()}))):this.reCalculateColumnCount()}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,n=this.props.breakpointCols;"object"!==typeof n&&(n={default:parseInt(n)||2});var t=1/0,r=n.default||2;for(var a in n){var i=parseInt(a);i>0&&e<=i&&i<t&&(t=i,r=n[a])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,n=new Array(e),t=l.Children.toArray(this.props.children),r=0;r<t.length;r++){var a=r%e;n[a]||(n[a]=[]),n[a].push(t[r])}return n}},{key:"renderColumns",value:function(){var e=this.props,n=e.column,t=e.columnAttrs,r=void 0===t?{}:t,a=e.columnClassName,i=this.itemsInColumns(),o="".concat(100/i.length,"%"),s=a;s&&"string"!==typeof s&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof s&&(s="my-masonry-grid_column"));var c=hn(hn(hn({},n),r),{},{style:hn(hn({},r.style),{},{width:o}),className:s});return i.map((function(e,n){return l.createElement("div",mn({},c,{key:n}),e)}))}},{key:"logDeprecated",value:function(e){console.error("[Masonry]",e)}},{key:"render",value:function(){var e=this.props,n=(e.children,e.breakpointCols,e.columnClassName,e.columnAttrs,e.column,e.className),t=dn(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),r=n;return"string"!==typeof n&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof n&&(r="my-masonry-grid")),l.createElement("div",mn({},t,{className:r}),this.renderColumns())}}]),t}(l.Component);vn.defaultProps=xn;var bn=vn,gn=t(75208),jn=t(13960),Zn={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};var yn=function(e,n,t){if(n){n.style.fontSize=null,n.style.lineHeight=null;var r=n.clientWidth;if(0!==r&&t){var a,i=document.createElement("div");i.style.display="inline-block",i.style.fontSize="10px",i.style.fontWeight="600",i.style.lineHeight="10px",i.style.position="absolute",i.style.whiteSpace="pre-wrap",i.style.wordWrap="break-word",i.style.pointerEvents="none",i.style.visibility="hidden",document.body.appendChild(i);var l=e.split(" ").map((function(e){return i.textContent=e.toString(),i.clientWidth})),o=Math.max.apply(Math,(0,Oe.Z)(l)),s=Math.floor(10*r/o);s<18?a=1:s>=18&&s<24?a=2:s>=24&&s<36?a=3:s>=36&&s<48?a=4:s>=48&&(a=5);var c=Zn[a],u=c.lineHeight,d=c.fontSize;i.textContent=e,i.style.width="".concat(r,"px"),i.style.fontSize="".concat(d,"px"),i.style.lineHeight="".concat(u,"px");var m=i.clientHeight/u;m>4&&m<6?a=4:m>=6&&m<9?a=3:m>=9&&m<11?a=2:m>=11&&(a=1),document.body.removeChild(i),u=Zn[a].lineHeight,d=Zn[a].fontSize,n.style.fontSize="".concat(d,"px"),n.style.lineHeight="".concat(u,"px")}}};var Cn=function(e){var n=(0,o.I0)();return(0,Y.jsx)(jn.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.1}},children:(0,Y.jsxs)(gn.Z,{className:(0,W.Z)("cursor-pointer",e.className),onClick:function(){return n(be(e.note.id))},children:[e.note.image&&""!==e.note.image&&(0,Y.jsx)("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&(0,Y.jsx)(f.Z,{className:"px-20 my-16 text-14 font-semibold",children:e.note.title}),e.note.content&&""!==e.note.content&&(0,Y.jsx)(f.Z,{className:"px-20 my-16 ",component:"div",children:(0,Y.jsx)("div",{className:(0,W.Z)("w-full break-words",e.variateDescSize?"font-500":"text-14"),ref:function(n){setTimeout((function(){return yn(e.note.content,n,e.variateDescSize)}))},children:e.note.content})}),e.note.tasks&&e.note.tasks.length>0&&(0,Y.jsx)("ul",{className:"px-20 my-16 flex flex-wrap list-reset",children:e.note.tasks.map((function(e){return(0,Y.jsxs)("li",{className:"flex items-center w-full",children:[(0,Y.jsx)(Q.Z,{color:e.completed?"secondary":"disabled",size:20,children:"heroicons-outline:check-circle"}),(0,Y.jsx)(f.Z,{className:(0,W.Z)("truncate mx-8",e.completed&&"line-through"),color:e.completed?"text.secondary":"inherit",children:e.content})]},e.id)}))}),(e.note.labels.length>0||e.note.reminder)&&(0,Y.jsxs)("div",{className:"px-20 my-16 flex flex-wrap w-full -mx-2",children:[e.note.reminder&&(0,Y.jsx)(Ye,{className:"mt-4 mx-2 max-w-full",date:e.note.reminder}),e.note.labels.map((function(e){return(0,Y.jsx)(Ge,{id:e,className:"mt-4 mx-2 max-w-full",linkable:!0},e)}))]})]})})};var wn=(0,De.Z)((function(e){var n=(0,o.v9)(me),t=(0,o.v9)(je),r=(0,o.v9)(Ze),i=(0,u.UO)(),s=(0,l.useState)(null),c=(0,a.Z)(s,2),d=c[0],m=c[1];return(0,l.useEffect)((function(){n.length>0&&m(function(){i.id,i.labelId;var e=n;return 0===r.length?e:e=ze.Z.filterArrayByString(e,r)}())}),[n,r,i]),d&&0!==d.length?(0,Y.jsx)("div",{className:"flex flex-wrap w-full",children:(0,Y.jsx)(bn,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-8",children:d.map((function(e){return(0,Y.jsx)(Cn,{note:e,className:"w-full rounded-20 shadow mb-16",variateDescSize:t},e.id)}))})}):(0,Y.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Y.jsx)(f.Z,{color:"text.secondary",variant:"h5",children:"There are no notes!"})})})),Nn=t(73897),kn=t(62739);function Sn(e){var n=(0,o.I0)(),t=(0,o.v9)(Ze);return(0,Y.jsx)(kn.Z,{component:jn.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-1 items-center px-16 rounded-full h-40 w-fullsm:max-w-240",placeholder:"Search note",variant:"outlined",fullWidth:!0,startAdornment:(0,Y.jsx)(U.Z,{position:"start",children:(0,Y.jsx)(Q.Z,{color:"disabled",children:"heroicons-solid:search"})}),inputProps:{"aria-label":"Search"},value:t,onChange:function(e){return n(xe(e))}})}Sn.defaultProps={trigger:(0,Y.jsx)(H.Z,{className:"w-64 h-64",size:"large",children:(0,Y.jsx)(Q.Z,{children:"heroicons-outline:search"})})};var An=Sn;var Dn=function(e){var n=(0,o.I0)(),t=(0,o.v9)(je);return(0,Y.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 items-center justify-between p-8 sm:p-24 sm:px-32 relative",children:[(0,Y.jsxs)("div",{className:"flex shrink items-center sm:w-224",children:[(0,Y.jsx)(Nn.Z,{lgUp:!0,children:(0,Y.jsx)(H.Z,{onClick:function(n){return e.onSetSidebarOpen(!0)},"aria-label":"open left sidebar",size:"large",children:(0,Y.jsx)(Q.Z,{children:"heroicons-outline:menu"})})}),(0,Y.jsx)("div",{className:"flex items-center",children:(0,Y.jsx)(f.Z,{component:jn.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:"Notes"})})]}),(0,Y.jsxs)("div",{className:"flex flex-1 w-full sm:w-auto items-center justify-end space-x-12",children:[(0,Y.jsx)(Ae.Z,{title:"Toggle Variate Description Size",children:(0,Y.jsx)(H.Z,{onClick:function(e){return n(ve())},size:"large",children:(0,Y.jsx)(Q.Z,{color:t?"action":"disabled",children:"heroicons-solid:switch-vertical"})})}),(0,Y.jsx)(An,{})]})]})},In=t(13663),On=(0,s.ZP)(q.ZP)((function(e){var n=e.theme;e.active;return{color:"inherit!important",textDecoration:"none!important",height:40,width:"100%",borderRadius:20,paddingLeft:16,paddingRight:16,marginBottom:8,fontWeight:500,"&.active":{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, .05)!important":"rgba(255, 255, 255, .1)!important",pointerEvents:"none","& .list-item-icon":{color:n.palette.secondary.main}},"& .list-item-icon":{marginRight:16}}}));var zn=function(e){var n=(0,o.I0)(),t=(0,o.v9)(D);return(0,Y.jsx)("div",{className:"px-16 py-24",children:(0,Y.jsx)("div",{component:jn.E.div,initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:(0,Y.jsxs)(x.Z,{className:"",children:[(0,Y.jsxs)(On,{button:!0,component:In.Z,to:"/apps/notes",end:!0,activeClassName:"active",children:[(0,Y.jsx)(Q.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:pencil-alt"}),(0,Y.jsx)(_e.Z,{className:"truncate",primary:"Notes",disableTypography:!0})]}),(0,Y.jsxs)(On,{button:!0,component:In.Z,to:"/apps/notes/reminders",end:!0,activeClassName:"active",children:[(0,Y.jsx)(Q.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:bell"}),(0,Y.jsx)(_e.Z,{className:"truncate",primary:"Reminders",disableTypography:!0})]}),(0,Y.jsxs)(On,{button:!0,component:In.Z,to:"/apps/notes/archive",activeClassName:"active",children:[(0,Y.jsx)(Q.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:archive"}),(0,Y.jsx)(_e.Z,{className:"truncate",primary:"Archive",disableTypography:!0})]}),t.map((function(e){return(0,Y.jsxs)(On,{button:!0,component:In.Z,to:"/apps/notes/labels/".concat(e.id),end:!0,activeClassName:"active",children:[(0,Y.jsx)(Q.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:tag"}),(0,Y.jsx)(_e.Z,{className:"truncate",primary:e.title,disableTypography:!0})]},e.id)})),(0,Y.jsxs)(On,{button:!0,onClick:function(e){return n(P())},children:[(0,Y.jsx)(Q.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:pencil"}),(0,Y.jsx)(_e.Z,{className:"truncate",primary:"Edit Labels",disableTypography:!0})]})]})})})},Pn=(0,t(42601).UY)({notes:Ce,labels:L}),En=(0,s.ZP)(m.Z)((function(e){e.theme;return{"& .FusePageCarded-header":{},"& .FusePageCarded-sidebar":{},"& .FusePageCarded-leftSidebar":{}}}));var Tn=(0,i.Z)("notesApp",Pn)((function(e){var n=(0,o.I0)(),t=(0,p.Z)((function(e){return e.breakpoints.down("lg")})),r=(0,l.useState)(!t),i=(0,a.Z)(r,2),s=i[0],m=i[1],h=(0,u.UO)();return(0,l.useEffect)((function(){n(le(h)),n(C())}),[n,h]),(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(En,{header:(0,Y.jsx)(Dn,{onSetSidebarOpen:m}),content:(0,Y.jsxs)("div",{className:"flex flex-col w-full items-center p-24",children:[(0,Y.jsxs)(d.Z,{className:"w-full rounded-16 border p-12 flex flex-col items-center",sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,c.$n)(e.palette.background.default,.4):(0,c.$n)(e.palette.background.default,.02)}},children:[(0,Y.jsx)(an,{}),(0,Y.jsx)(wn,{})]}),(0,Y.jsx)(tn,{}),(0,Y.jsx)(re,{})]}),leftSidebarOpen:s,leftSidebarOnClose:function(){m(!1)},leftSidebarContent:(0,Y.jsx)(zn,{}),scroll:t?"normal":"content"})})}))}}]);