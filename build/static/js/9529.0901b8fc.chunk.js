"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[9529],{69529:function(e,n,r){r.r(n),r.d(n,{default:function(){return ln}});var t=r(29439),i=r(44461),s=r(88391),a=r(59643),l=r(74931),o=r(40099),c=r(7121),d=r(82362),u=r(33649),m=r(64444),x=r(12496),h=r(69413),f=r(1413),j=r(78886),v=r(76677),Z=r(82849),p=r(99498),b=r(75208),g=r(42625),N=r(15866),C=r(8991),w=r(16867),y=r(65958),k=r(79369),I=r(33784),S=r(27230),z=r(23712),P={title:""},D=y.Ry().shape({title:y.Z_().required("You must enter a title")});var R=function(e){var n=(0,l.I0)(),r=(0,s.useState)(!1),i=(0,t.Z)(r,2),a=i[0],o=i[1],c=(0,j.cI)({mode:"onChange",defaultValues:P,resolver:(0,Z.X)(D)}),d=c.control,u=c.formState,m=c.handleSubmit,x=c.reset,h=u.isValid,y=u.dirtyFields;function R(){o(!1)}return u.errors,(0,s.useEffect)((function(){a||x(P)}),[a,x]),(0,z.jsx)("div",{children:(0,z.jsx)(b.Z,{className:"w-320 mx-8 sm:mx-12 rounded-xl shadow-0",square:!0,sx:{backgroundColor:function(e){return(0,v._j)(e.palette.background.default,"light"===e.palette.mode?.03:.25)}},children:a?(0,z.jsx)(g.Z,{onClickAway:R,children:(0,z.jsxs)("form",{className:"p-12",onSubmit:m((function(e){n((0,S.Bl)(e)),R()})),children:[(0,z.jsx)(j.Qr,{name:"title",control:d,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"List title",autoFocus:!0,InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{onClick:R,size:"large",children:(0,z.jsx)(I.Z,{size:18,children:"heroicons-outline:x"})})})}}))}}),(0,z.jsx)("div",{className:"flex justify-between items-center",children:(0,z.jsx)(p.Z,{variant:"contained",color:"secondary",type:"submit",disabled:k.Z.isEmpty(y)||!h,size:"small",children:"Add"})})]})}):(0,z.jsx)(p.Z,{onClick:function(e){e.stopPropagation(),o(!0)},classes:{root:"font-medium w-full rounded-lg p-24 justify-start"},startIcon:(0,z.jsx)(I.Z,{children:"heroicons-outline:plus-circle"}),sx:{color:"text.secondary"},children:"Add another list"})})})},A=r(81087),E=r(46999),L=r(29595),V=r(31203),F={title:""},q=y.Ry().shape({title:y.Z_().required("You must enter a title")});var T=function(e){var n=(0,l.I0)(),r=(0,s.useState)(!1),i=(0,t.Z)(r,2),a=i[0],o=i[1],c=(0,j.cI)({mode:"onChange",defaultValues:F,resolver:(0,Z.X)(q)}),d=c.control,u=c.formState,m=c.handleSubmit,x=c.reset,h=u.isValid,v=u.dirtyFields;function b(){o(!1)}return u.errors,(0,s.useEffect)((function(){a||x(F)}),[a,x]),(0,z.jsx)("div",{className:"w-full",children:a?(0,z.jsx)(g.Z,{onClickAway:b,children:(0,z.jsxs)("form",{onSubmit:m((function(r){n((0,V.mS)({listId:e.listId,newData:r})).then((function(){e.onCardAdded()})),b()})),children:[(0,z.jsx)(j.Qr,{name:"title",control:d,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"Card title",autoFocus:!0,InputProps:(0,f.Z)((0,f.Z)({},n),{},{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{onClick:b,size:"large",children:(0,z.jsx)(I.Z,{size:18,children:"heroicons-outline:x"})})})})})}}),(0,z.jsx)("div",{className:"flex justify-between items-center",children:(0,z.jsx)(p.Z,{variant:"contained",color:"secondary",type:"submit",disabled:k.Z.isEmpty(v)||!h,size:"small",children:"Add"})})]})}):(0,z.jsx)(p.Z,{onClick:function(e){e.stopPropagation(),o(!0)},classes:{root:"font-medium w-full rounded-lg p-24 justify-start"},startIcon:(0,z.jsx)(I.Z,{children:"heroicons-outline:plus-circle"}),sx:{color:"text.secondary"},children:"Add another card"})})},Q=r(49194),M=r(11849),O=r(95590),B=r(27062),_=r(32172),X=r(41959),W=r(60948);var Y=function(e){var n=e.id,r=(0,l.v9)((function(e){return(0,W.mX)(e,n)}));return r?(0,z.jsx)(M.Z,{title:r.title,children:(0,z.jsx)(X.Z,{className:"font-semibold text-12 mx-4 mb-6",label:r.title,size:"small"})},n):null},H=r(95526),K=r(92854),$=r(6628);function U(e){return(0,$.Z)(1,arguments),Math.floor(function(e){return(0,$.Z)(1,arguments),(0,K.Z)(e).getTime()}(e)/1e3)}var G=r(62263),J=r(82001);function ee(e){(0,$.Z)(1,arguments);var n=(0,J.Z)(e);return(0,K.Z)(1e3*n)}var ne=function(e){var n=e.dueDate;return n?(0,z.jsx)(X.Z,{size:"small",className:(0,L.Z)("flex items-center font-semibold text-12 mx-4 mb-6",U(new Date)>n?"bg-red text-white":"bg-green text-white"),sx:{"& .MuiChip-icon":{color:"inherit"}},label:(0,G.Z)(ee(n),"MMM do yy"),icon:(0,z.jsx)(I.Z,{size:16,color:"inherit",children:"heroicons-outline:clock"})}):null};var re=function(e){var n,r=e.card,t=(n=r,k.Z.sum(n.checklists.map((function(e){return k.Z.sum(e.checkItems.map((function(e){return e.checked?1:0})))})))),i=function(e){return k.Z.sum(e.checklists.map((function(e){return e.checkItems.length})))}(r);return 0===i?null:(0,z.jsx)(X.Z,{size:"small",className:(0,L.Z)("flex items-center font-semibold text-12 mx-4 mb-6",t===i?"bg-green text-white":"bg-grey-500 text-white"),sx:{"& .MuiChip-icon":{color:"inherit"}},icon:(0,z.jsx)(I.Z,{size:16,color:"inherit",children:"heroicons-outline:check"}),label:"".concat(t,"/").concat(i)})},te=(0,A.ZP)(b.Z)((function(e){var n=e.theme;return{transitionProperty:"box-shadow",transitionDuration:n.transitions.duration.short,transitionTimingFunction:n.transitions.easing.easeInOut}}));var ie=function(e){var n,r=e.cardId,t=e.index,i=(0,l.I0)(),s=(0,l.v9)(h.ZO),o=(0,l.v9)((function(e){return(0,V.Qs)(e,r)})),c=(0,l.v9)(H.ad),d=(n=o,k.Z.sum(n.activities.map((function(e){return"comment"===e.type?1:0})))),u=k.Z.find(o.attachments,{id:o.attachmentCoverId});return(0,z.jsx)(a._l,{draggableId:r,index:t,type:"card",children:function(e,n){return(0,z.jsx)("div",(0,f.Z)((0,f.Z)((0,f.Z)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:(0,z.jsxs)(te,{className:(0,L.Z)(n.isDragging?"shadow-lg":"shadow","w-full mb-12 rounded-lg cursor-pointer"),onClick:function(e){return function(e,n){e.preventDefault(),i((0,_.V)(n))}(e,o)},children:[s.settings.cardCoverImages&&u&&(0,z.jsx)("img",{className:"block",src:u.src,alt:"card cover"}),(0,z.jsxs)("div",{className:"p-16 pb-0",children:[o.labels.length>0&&(0,z.jsx)("div",{className:"flex flex-wrap mb-8 -mx-4",children:o.labels.map((function(e){return(0,z.jsx)(Y,{id:e},e)}))}),(0,z.jsx)(O.Z,{className:"font-medium mb-12",children:null===o||void 0===o?void 0:o.title}),(o.dueDate||o.checklists.length>0)&&(0,z.jsxs)("div",{className:"flex items-center mb-12 -mx-4",children:[(0,z.jsx)(ne,{dueDate:o.dueDate}),(0,z.jsx)(re,{card:o})]})]}),(0,z.jsxs)("div",{className:"flex justify-between h-48 px-16",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-4",children:[o.subscribed&&(0,z.jsx)(I.Z,{size:16,color:"action",children:"heroicons-outline:eye"}),""!==o.description&&(0,z.jsx)(I.Z,{size:16,color:"action",children:"heroicons-outline:document-text"}),o.attachments&&(0,z.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,z.jsx)(I.Z,{size:16,color:"action",children:"heroicons-outline:paper-clip"}),(0,z.jsx)(O.Z,{className:"",color:"text.secondary",children:o.attachments.length})]}),d>0&&(0,z.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,z.jsx)(I.Z,{size:16,color:"action",children:"heroicons-outline:chat"}),(0,z.jsx)(O.Z,{className:"",color:"text.secondary",children:d})]})]}),(0,z.jsx)("div",{className:"flex items-center justify-end space-x-12",children:o.memberIds.length>0&&(0,z.jsx)("div",{className:"flex justify-start",children:(0,z.jsx)(B.Z,{max:3,classes:{avatar:"w-24 h-24 text-12"},children:o.memberIds.map((function(e){var n=k.Z.find(c,{id:e});return(0,z.jsx)(M.Z,{title:n.name,children:(0,z.jsx)(Q.Z,{alt:"member",src:n.avatar},t)},e)}))})})})]})]})}))}})},se=r(7790),ae=r(43747),le=r(22563),oe=r(71027),ce=r(40738),de=y.Ry().shape({title:y.Z_().required("You must enter a title")});var ue=function(e){var n=e.list,r=e.cardIds,i=(0,l.I0)(),a=(0,s.useState)(null),o=(0,t.Z)(a,2),c=o[0],d=o[1],u=(0,s.useState)(!1),m=(0,t.Z)(u,2),x=m[0],h=m[1],p=(0,j.cI)({mode:"onChange",defaultValues:{title:n.title},resolver:(0,Z.X)(de)}),b=p.control,y=p.formState,P=p.handleSubmit,D=p.reset,R=y.isValid,A=y.dirtyFields;function E(e){e.stopPropagation(),h(!0)}function L(){h(!1)}return y.errors,(0,s.useEffect)((function(){x||D({title:n.title})}),[x,D,n.title]),(0,s.useEffect)((function(){x&&c&&d(null)}),[c,x]),(0,z.jsx)("div",(0,f.Z)((0,f.Z)({},e.handleProps),{},{children:(0,z.jsxs)("div",{className:"flex items-center justify-between h-48 sm:h-56 px-12",children:[(0,z.jsx)("div",{className:"flex items-center min-w-0",children:x?(0,z.jsx)(g.Z,{onClickAway:L,children:(0,z.jsx)("form",{className:"flex w-full",onSubmit:P((function(e){i((0,S.s9)({id:n.id,newData:e})),L()})),children:(0,z.jsx)(j.Qr,{name:"title",control:b,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{variant:"outlined",margin:"none",autoFocus:!0,size:"small",InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{type:"submit",disabled:k.Z.isEmpty(A)||!R,size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:check"})})})}}))}})})}):(0,z.jsx)(O.Z,{className:"text-14 font-medium cursor-pointer",onClick:E,children:n.title})}),(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)(ce.Z,{className:"flex items-center justify-center min-w-24 h-24 mx-4 text-sm font-semibold leading-24 rounded-full",sx:{backgroundColor:function(e){return(0,v._j)(e.palette.background.default,"light"===e.palette.mode?.1:.3)},color:"text.secondary"},children:r.length}),(0,z.jsx)(N.Z,{"aria-owns":c?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},variant:"outlined",size:"small",children:(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:dots-vertical"})}),(0,z.jsxs)(le.Z,{id:"actions-menu",anchorEl:c,open:Boolean(c),onClose:function(){d(null)},children:[(0,z.jsxs)(oe.Z,{onClick:function(){i((0,S.J_)(n.id))},children:[(0,z.jsx)(se.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:trash"})}),(0,z.jsx)(ae.Z,{primary:"Remove List"})]}),(0,z.jsxs)(oe.Z,{onClick:E,children:[(0,z.jsx)(se.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:pencil"})}),(0,z.jsx)(ae.Z,{primary:"Rename List"})]})]})]})]})}))},me=(0,A.ZP)(b.Z)((function(e){var n=e.theme;return{transitionProperty:"box-shadow",transitionDuration:n.transitions.duration.short,transitionTimingFunction:n.transitions.easing.easeInOut}}));var xe=function(e){var n=e.listId,r=e.cardIds,t=(0,s.useRef)(null),i=(0,l.v9)((function(e){return(0,S.Q)(e,n)}));function o(){t.current.scrollTop=t.current.scrollHeight}return i?(0,z.jsx)(a._l,{draggableId:n,index:e.index,type:"list",children:function(e,s){return(0,z.jsx)("div",(0,f.Z)((0,f.Z)({ref:e.innerRef},e.draggableProps),{},{children:(0,z.jsxs)(me,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,v.$n)(e.palette.background.default,.4):(0,v.$n)(e.palette.background.default,.02)}},className:(0,L.Z)(s.isDragging?"shadow-lg":"shadow-0","w-256 sm:w-320 mx-8 max-h-full flex flex-col rounded-xl border"),square:!0,children:[(0,z.jsx)(ue,{list:i,cardIds:r,className:"border-b-1",handleProps:e.dragHandleProps}),(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(E.Z,{className:"flex flex-col flex-1 flex-auto h-full min-h-0 w-full p-0 overflow-auto",ref:t,children:(0,z.jsx)(a.bK,{droppableId:n,type:"card",direction:"vertical",children:function(e){return(0,z.jsxs)("div",{ref:e.innerRef,className:"flex flex-col w-full h-full px-12 min-h-1",children:[r.map((function(e,n){return(0,z.jsx)(ie,{cardId:e,index:n,list:i},e)})),e.placeholder]})}})})}),(0,z.jsx)("div",{className:"p-12",children:(0,z.jsx)(T,{listId:n,onCardAdded:o})})]})}))}}):null},he=r(12799),fe=r(93433),je=r(18807),ve=r(16135),Ze=r(31417),pe=r(83862),be=r(79174),ge=r(10927),Ne=r(18754);var Ce=function(e){var n=(0,l.v9)((function(n){return(0,H.Tj)(n,e.item.idMember)}));switch(e.item.type){case"comment":return(0,z.jsxs)(be.ZP,{dense:!0,className:"px-0",children:[(0,z.jsx)(Q.Z,{alt:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.avatar,className:"w-32 h-32"}),(0,z.jsxs)(Ne.Z,{className:"flex flex-col mx-16 p-12",sx:{borderRadius:"5px 20px 20px 5px",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)(O.Z,{children:null===n||void 0===n?void 0:n.name}),(0,z.jsx)(O.Z,{className:"mx-8 text-12",color:"text.secondary",children:(0,ge.Z)(ee(e.item.time),{addSuffix:!0})})]}),(0,z.jsx)(O.Z,{children:e.item.message})]})]});case"attachment":return(0,z.jsxs)(be.ZP,{dense:!0,className:"px-0",children:[(0,z.jsx)(Q.Z,{alt:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.avatar,className:"w-32 h-32"}),(0,z.jsxs)("div",{className:"flex items-center mx-16",children:[(0,z.jsxs)(O.Z,{children:[null===n||void 0===n?void 0:n.name,","]}),(0,z.jsx)(O.Z,{className:"mx-8",children:e.item.message}),(0,z.jsx)(O.Z,{className:"text-12",color:"text.secondary",children:(0,ge.Z)(ee(e.item.time),{addSuffix:!0})})]})]});default:return null}},we=r(56617);var ye=function(e){var n=(0,s.useState)(null),r=(0,t.Z)(n,2),i=r[0],a=r[1];function l(e){a(e.currentTarget)}function o(){a(null)}switch(e.item.type){case"image":return(0,z.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[(0,z.jsx)("div",{className:"flex items-center justify-center min-w-128 w-128 h-128",children:(0,z.jsx)(we.Z,{className:"overflow-hidden shadow",children:(0,z.jsx)("img",{className:"block max-h-full max-h-full",src:e.item.src,alt:"attachment"})})}),(0,z.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[(0,z.jsxs)("div",{className:"flex items-center w-full",children:[(0,z.jsx)(O.Z,{className:"text-16 font-semibold truncate shrink",children:e.item.name}),e.card.attachmentCoverId===e.item.id&&(0,z.jsx)(I.Z,{className:"text-orange-300 mx-4",size:20,children:"heroicons-outline:start"})]}),(0,z.jsx)(O.Z,{className:"truncate w-full mb-12",color:"text.secondary",children:(0,G.Z)(ee(e.item.time),"Pp")}),(0,z.jsx)(p.Z,{"aria-owns":i?"actions-menu":null,"aria-haspopup":"true",onClick:l,variant:"outlined",size:"small",endIcon:(0,z.jsx)(I.Z,{size:16,children:"heroicons-outline:chevron-down"}),children:"Actions"}),(0,z.jsxs)(le.Z,{id:"actions-menu",anchorEl:i,open:Boolean(i),onClose:o,children:[e.card.attachmentCoverId!==e.item.id?(0,z.jsx)(oe.Z,{onClick:function(){o(),e.makeCover(e.item.id)},children:"Make Cover"}):(0,z.jsx)(oe.Z,{onClick:function(){o(),e.removeCover()},children:"Remove Cover"}),(0,z.jsx)(oe.Z,{onClick:function(){o(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})]})]})]},e.item.id);case"link":return(0,z.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[(0,z.jsx)(we.Z,{className:"min-w-128 w-128 h-128 flex items-center justify-center rounded-4 overflow-hidden shadow",children:(0,z.jsx)(O.Z,{className:"font-semibold",children:"LINK"})}),(0,z.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[(0,z.jsx)(O.Z,{className:"text-16 font-semibold truncate w-full",children:e.item.url}),(0,z.jsx)(O.Z,{className:"truncate w-full mb-12",color:"text.secondary",children:e.item.time}),(0,z.jsx)(p.Z,{"aria-owns":i?"actions-menu":null,"aria-haspopup":"true",onClick:l,variant:"outlined",size:"small",endIcon:(0,z.jsx)(I.Z,{size:16,children:"heroicons-outline:chevron-down"}),children:"Actions"}),(0,z.jsx)(le.Z,{id:"simple-menu",anchorEl:i,open:Boolean(i),onClose:o,children:(0,z.jsx)(oe.Z,{onClick:function(){o(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})})]})]},e.item.id);default:return null}},ke=r(4663),Ie=r(1433),Se=r(60883);var ze=function(e){return e=e||{},k.Z.defaults(e,{id:Se.Z.generateGUID(),name:"",checked:!1})},Pe=y.Ry().shape({name:y.Z_().required("You must enter a title")});var De=function(e){var n=(0,j.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,Z.X)(Pe)}),r=n.control,t=n.formState,i=n.handleSubmit,s=n.reset,a=t.isValid,l=t.dirtyFields;return t.errors,(0,z.jsx)("form",{onSubmit:i((function(n){e.onListItemAdd(ze(n)),s({name:e.name})})),children:(0,z.jsxs)(be.ZP,{className:"px-0",dense:!0,children:[(0,z.jsx)("span",{className:"w-40"}),(0,z.jsx)(j.Qr,{name:"name",control:r,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{className:"flex flex-1 mx-8",name:"name",variant:"outlined",placeholder:"Add an item"}))}}),(0,z.jsx)(Ie.Z,{className:"mx-4","aria-label":"Add",size:"small",color:"secondary",type:"submit",disabled:k.Z.isEmpty(l)||!a,children:(0,z.jsx)(I.Z,{children:"heroicons-outline:plus"})})]})})},Re=r(66930);var Ae=function(e){var n=e.item,r=e.onListItemChange,t=e.index,i=(0,j.cI)({mode:"onChange",defaultValues:n}),a=i.control,l=(0,i.watch)();return(0,s.useEffect)((function(){k.Z.isEqual(n,l)||r(l,t)}),[l,t,r,n]),(0,z.jsxs)(be.ZP,{className:"px-0",dense:!0,children:[(0,z.jsx)(j.Qr,{name:"checked",control:a,defaultValue:!1,render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,z.jsx)(Re.Z,{tabIndex:-1,checked:t,onChange:function(e){return r(e.target.checked)},disableRipple:!0})}}),(0,z.jsx)(j.Qr,{name:"name",control:a,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{className:"flex flex-1 mx-8",variant:"outlined"}))}}),(0,z.jsx)(N.Z,{"aria-label":"Delete",onClick:e.onListItemRemove,size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:trash"})})]},n.id)},Ee=y.Ry().shape({name:y.Z_().required("You must enter a title")}),Le=(0,s.forwardRef)((function(e,n){var r=(0,s.useState)(!1),i=(0,t.Z)(r,2),a=i[0],l=i[1],o=(0,j.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,Z.X)(Ee)}),c=o.control,d=o.formState,u=o.handleSubmit,m=o.reset,x=d.isValid,h=d.dirtyFields;d.errors;function v(e){e.stopPropagation(),l(!0)}function p(){l(!1)}return(0,s.useEffect)((function(){a||m({name:e.name})}),[a,m,e.name]),(0,s.useImperativeHandle)(n,(function(){return{openForm:v}})),a?(0,z.jsx)(g.Z,{onClickAway:p,children:(0,z.jsx)("form",{onSubmit:u((function(n){e.onNameChange(n.name),p()})),children:(0,z.jsx)(j.Qr,{name:"name",control:c,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{variant:"outlined",margin:"dense",autoFocus:!0,InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{type:"submit",disabled:k.Z.isEmpty(h)||!x,size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:check"})})})}}))}})})}):(0,z.jsx)(O.Z,{className:"text-16 font-semibold cursor-pointer mx-8",onClick:v,children:e.name})}));var Ve=function(e){var n=e.onCheckListChange,r=e.checklist,i=e.index,a=(0,s.useState)(null),l=(0,t.Z)(a,2),o=l[0],c=l[1],d=(0,s.useRef)(),u=(0,j.cI)({mode:"onChange",defaultValues:r}),m=u.watch,x=u.control,h=m();function f(){c(null)}function v(){return k.Z.sum(h.checkItems.map((function(e){return e.checked?1:0})))}return(0,s.useEffect)((function(){k.Z.isEqual(h,r)||n(h,i)}),[h,i,n,r]),h?(0,z.jsxs)("div",{className:"mb-24",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between mt-16 mb-12",children:[(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:check-circle"}),(0,z.jsx)(j.Qr,{name:"name",control:x,defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,z.jsx)(Le,{name:t,onNameChange:function(e){return r(e)},ref:d})}})]}),(0,z.jsxs)("div",{className:"",children:[(0,z.jsx)(N.Z,{"aria-owns":o?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},variant:"outlined",size:"small",children:(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:dots-vertical"})}),(0,z.jsxs)(le.Z,{id:"actions-menu",anchorEl:o,open:Boolean(o),onClose:f,children:[(0,z.jsxs)(oe.Z,{onClick:e.onRemoveCheckList,children:[(0,z.jsx)(se.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:trash"})}),(0,z.jsx)(ae.Z,{primary:"Remove Checklist"})]}),(0,z.jsxs)(oe.Z,{onClick:function(e){f(),d.current.openForm(e)},children:[(0,z.jsx)(se.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:pencil"})}),(0,z.jsx)(ae.Z,{primary:"Rename Checklist"})]})]})]})]}),(0,z.jsxs)("div",{className:"",children:[(0,z.jsxs)("div",{className:"flex items-center -mx-6",children:[(0,z.jsx)(O.Z,{className:"flex font-semibold mx-6",children:"".concat(v()," / ").concat(h.checkItems.length)}),(0,z.jsx)(ke.Z,{className:"flex flex-1 mx-6",variant:"determinate",color:"secondary",value:100*v()/h.checkItems.length})]}),(0,z.jsx)(j.Qr,{name:"checkItems",control:x,defaultValue:[],render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,z.jsxs)(Ze.Z,{className:"",children:[t.map((function(e,n){return(0,z.jsx)(Ae,{item:e,index:n,onListItemChange:function(e,n){r(k.Z.setIn(t,"[".concat(n,"]"),e))},onListItemRemove:function(){r(k.Z.reject(t,{id:e.id}))}},e.id)})),(0,z.jsx)(De,{onListItemAdd:function(e){return r([].concat((0,fe.Z)(t),[e]))}})]})}})]})]}):null};var Fe=function(e){return e=e||{},k.Z.defaults(e,{id:Se.Z.generateGUID(),type:"comment",idMember:null,message:"",time:U(new Date)})},qe=y.Ry().shape({message:y.Z_().required("You must enter a comment")}),Te={idMember:"baa88231-0ee6-4028-96d5-7f187e0f4cd5",message:""};var Qe=function(e){var n=(0,l.v9)((function(e){return(0,H.Tj)(e,Te.idMember)})),r=(0,j.cI)({mode:"onChange",defaultValues:Te,resolver:(0,Z.X)(qe)}),t=r.control,i=r.formState,s=r.handleSubmit,a=r.reset,o=i.isValid,c=i.dirtyFields,d=i.errors;return n?(0,z.jsxs)("form",{onSubmit:s((function(n){e.onCommentAdd(Fe((0,f.Z)((0,f.Z)({},Te),n))),a(Te)})),className:"flex -mx-8",children:[(0,z.jsx)(Q.Z,{className:"w-32 h-32 mx-8",alt:n.name,src:n.avatar}),(0,z.jsxs)("div",{className:"flex flex-col items-start flex-1 mx-8",children:[(0,z.jsx)(j.Qr,{name:"message",control:t,render:function(e){var n,r=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},r),{},{className:"flex flex-1",fullWidth:!0,error:!!d.message,helperText:null===d||void 0===d||null===(n=d.message)||void 0===n?void 0:n.message,row:3,variant:"outlined",label:"Add comment",placeholder:"Write a comment..."}))}}),(0,z.jsx)(p.Z,{className:"mt-16","aria-label":"save",variant:"contained",color:"secondary",type:"submit",size:"small",disabled:k.Z.isEmpty(c)||!o,children:"Save"})]})]}):null},Me=r(95914);var Oe=function(e){return(0,z.jsx)(Me.ZP,{open:Boolean(e.state),anchorEl:e.state,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,z.jsx)(z.Fragment,{children:e.children})})};var Be=function(e){var n=(0,s.useState)(null),r=(0,t.Z)(n,2),i=r[0],a=r[1],l=e.dueDate?(0,G.Z)(ee(e.dueDate),"Pp"):(0,G.Z)(new Date,"Pp");function o(){a(null)}return(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){a(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:calendar"})}),(0,z.jsx)(Oe,{state:i,onClose:o,children:(0,z.jsx)("div",{className:"p-16 max-w-192",children:e.dueDate?(0,z.jsx)(oe.Z,{onClick:function(n){e.onRemoveDue(),o()},children:"Remove Due Date"}):(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(je.x,{value:l,inputFormat:"Pp",onChange:function(n,r){e.onDueChange(U(n)),o()},renderInput:function(e){return(0,z.jsx)(w.Z,(0,f.Z)({label:"Due date",placeholder:"Choose a due date",className:"w-full"},e))}})})})})]})};var _e=function(e){var n=(0,l.v9)(W.ir),r=(0,s.useState)(null),i=(0,t.Z)(r,2),a=i[0],o=i[1];return(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){o(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:tag"})}),(0,z.jsx)(Oe,{state:a,onClose:function(){o(null)},children:(0,z.jsx)("div",{className:"",children:n.map((function(n){return(0,z.jsxs)(oe.Z,{className:"px-8",onClick:function(r){e.onToggleLabel(n.id)},children:[(0,z.jsx)(Re.Z,{checked:e.labels.includes(n.id)}),(0,z.jsx)(ae.Z,{className:"mx-8",children:n.title}),(0,z.jsx)(se.Z,{className:"min-w-24",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:tag"})})]},n.id)}))})})]})};var Xe=function(e){var n=(0,s.useState)(null),r=(0,t.Z)(n,2),i=r[0],a=r[1],o=(0,l.v9)(H.ad);return(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){a(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:user-circle"})}),(0,z.jsx)(Oe,{state:i,onClose:function(){a(null)},children:(0,z.jsx)("div",{className:"",children:o.map((function(n){return(0,z.jsxs)(oe.Z,{className:"px-8",onClick:function(r){e.onToggleMember(n.id)},children:[(0,z.jsx)(Re.Z,{checked:e.memberIds.includes(n.id)}),(0,z.jsx)(Q.Z,{className:"w-32 h-32",src:n.avatar}),(0,z.jsx)(ae.Z,{className:"mx-8",children:n.name})]},n.id)}))})})]})};var We=function(e){return e=e||{},k.Z.defaults(e,{id:Se.Z.generateGUID(),name:"",checkItems:[]})},Ye=y.Ry().shape({name:y.Z_().required("You must enter a title")});var He=function(e){var n=(0,s.useState)(null),r=(0,t.Z)(n,2),i=r[0],a=r[1],l=(0,j.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,Z.X)(Ye)}),o=l.control,c=l.formState,d=l.handleSubmit,u=l.reset,m=c.isValid,x=c.dirtyFields,h=c.errors;function v(){a(null)}return(0,s.useEffect)((function(){i||u({name:e.name})}),[i,u,e.name]),(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){a(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:check-circle"})}),(0,z.jsx)(Oe,{state:i,onClose:v,children:(0,z.jsxs)("form",{onSubmit:d((function(n){e.onAddCheckList(We(n)),v()})),className:"p-16 flex flex-col items-end",children:[(0,z.jsx)(j.Qr,{name:"name",control:o,render:function(e){var n,r=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},r),{},{label:"Checklist title",error:!!h.name,helperText:null===h||void 0===h||null===(n=h.name)||void 0===n?void 0:n.message,fullWidth:!0,className:"mb-12",variant:"outlined",required:!0,autoFocus:!0}))}}),(0,z.jsx)(p.Z,{color:"secondary",type:"submit",disabled:k.Z.isEmpty(x)||!m,variant:"contained",children:"Add"})]})})]})};var Ke=function(e){var n=(0,s.useState)(null),r=(0,t.Z)(n,2),i=r[0],a=r[1];return(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){a(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:dots-horizontal"})}),(0,z.jsx)(Oe,{state:i,onClose:function(){a(null)},children:(0,z.jsx)(oe.Z,{onClick:e.onRemoveCard,children:"Remove Card"})})]})};var $e=function(e){var n=(0,l.I0)(),r=(0,l.v9)(h.ZO),t=(0,l.v9)(W.ir),i=(0,l.v9)(H.ad),a=(0,l.v9)(_.VN),o=(0,l.v9)((function(e){return(0,S.Q)(e,null===a||void 0===a?void 0:a.listId)})),c=(0,j.cI)({mode:"onChange",defaultValues:a}),u=c.register,m=c.watch,x=c.control,v=c.setValue,Z=m(),p=(0,d.Nr)((function(e){n((0,_.OV)(e))}),600);return(0,s.useEffect)((function(){a&&(k.Z.isEqual(a,Z)||p(Z))}),[a,Z,p]),(0,s.useEffect)((function(){u("attachmentCoverId")}),[u]),a?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(ve.Z,{className:"flex flex-col sm:flex-row p-8",children:[(0,z.jsxs)("div",{className:"flex flex-auto flex-col py-16 px-0 sm:px-16",children:[(0,z.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between justify-center items-center mb-24",children:[(0,z.jsxs)("div",{className:"mb-16 sm:mb-0 flex items-center",children:[(0,z.jsx)(O.Z,{children:r.title}),(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:chevron-right"}),(0,z.jsx)(O.Z,{children:o&&o.title})]}),Z.dueDate&&(0,z.jsx)(je.x,{value:(0,G.Z)(ee(Z.dueDate),"Pp"),inputFormat:"Pp",onChange:function(e){return v("dueDate",U(e))},renderInput:function(e){return(0,z.jsx)(w.Z,(0,f.Z)({label:"Due date",placeholder:"Choose a due date",className:"w-full sm:w-auto"},e))}})]}),(0,z.jsx)("div",{className:"flex items-center mb-24",children:(0,z.jsx)(j.Qr,{name:"title",control:x,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{label:"Title",type:"text",variant:"outlined",fullWidth:!0,required:!0,InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:a.subscribed&&(0,z.jsx)(I.Z,{size:20,color:"action",children:"heroicons-outline:eye"})})}}))}})}),(0,z.jsx)("div",{className:"w-full mb-24",children:(0,z.jsx)(j.Qr,{name:"description",control:x,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{label:"Description",multiline:!0,rows:"4",variant:"outlined",fullWidth:!0}))}})}),Z.labels&&Z.labels.length>0&&(0,z.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:tag"}),(0,z.jsx)(O.Z,{className:"font-semibold text-16 mx-8",children:"Labels"})]}),(0,z.jsx)(pe.Z,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:t,getOptionLabel:function(e){return e.title},value:Z.labels.map((function(e){return k.Z.find(t,{id:e})})),onChange:function(e,n){v("labels",n.map((function(e){return e.id})))},renderTags:function(e,n){return e.map((function(e,r){return(0,z.jsx)(X.Z,(0,f.Z)((0,f.Z)({label:e.title},n({index:r})),{},{className:"m-3"}))}))},renderInput:function(e){return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},e),{},{placeholder:"Select multiple Labels",label:"Labels",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]}),Z.memberIds&&Z.memberIds.length>0&&(0,z.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:users"}),(0,z.jsx)(O.Z,{className:"font-semibold text-16 mx-8",children:"Members"})]}),(0,z.jsx)(pe.Z,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:i,getOptionLabel:function(e){return e.name},value:Z.memberIds.map((function(e){return k.Z.find(i,{id:e})})),onChange:function(e,n){v("memberIds",n.map((function(e){return e.id})))},renderTags:function(e,n){return e.map((function(e,r){return(0,z.jsx)(X.Z,(0,f.Z)((0,f.Z)({label:e.name},n({index:r})),{},{className:(0,L.Z)("m-3",e.class),avatar:(0,z.jsx)(M.Z,{title:e.name,children:(0,z.jsx)(Q.Z,{src:e.avatar})})}))}))},renderInput:function(e){return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},e),{},{placeholder:"Select multiple Members",label:"Members",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]}),Z.attachments&&Z.attachments.length>0&&(0,z.jsxs)("div",{className:"mb-24",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:paper-clip"}),(0,z.jsx)(O.Z,{className:"font-semibold text-16 mx-8",children:"Attachments"})]}),(0,z.jsx)("div",{className:"flex flex-col sm:flex-row flex-wrap -mx-16",children:Z.attachments.map((function(e){return(0,z.jsx)(ye,{item:e,card:Z,makeCover:function(){v("attachmentCoverId",e.id)},removeCover:function(){v("attachmentCoverId","")},removeAttachment:function(){v("attachments",k.Z.reject(Z.attachments,{id:e.id}))}},e.id)}))})]}),Z.checklists&&Z.checklists.map((function(e,n){return(0,z.jsx)(Ve,{checklist:e,index:n,onCheckListChange:function(e,n){v("checklists",k.Z.setIn(Z.checklists,"[".concat(n,"]"),e))},onRemoveCheckList:function(){v("checklists",k.Z.reject(Z.checklists,{id:e.id}))}},e.id)})),(0,z.jsxs)("div",{className:"mb-24",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:chat-alt"}),(0,z.jsx)(O.Z,{className:"font-semibold text-16 mx-8",children:"Comment"})]}),(0,z.jsx)("div",{children:(0,z.jsx)(Qe,{onCommentAdd:function(e){return v("activities",[e].concat((0,fe.Z)(Z.activities)))}})})]}),(0,z.jsx)(j.Qr,{name:"activities",control:x,defaultValue:[],render:function(e){var n=e.field,r=(n.onChange,n.value);return(0,z.jsx)("div",{children:r.length>0&&(0,z.jsxs)("div",{className:"mb-24",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:clipboard-list"}),(0,z.jsx)(O.Z,{className:"font-semibold text-16 mx-8",children:"Activity"})]}),(0,z.jsx)(Ze.Z,{className:"",children:r.map((function(e){return(0,z.jsx)(Ce,{item:e},e.id)}))})]})})}})]}),(0,z.jsx)("div",{className:"flex order-first sm:order-last items-start sticky top-0",children:(0,z.jsxs)(ce.Z,{className:"flex flex-row sm:flex-col items-center sm:py-8 rounded-12 w-full",sx:{backgroundColor:"background.default"},children:[(0,z.jsx)(N.Z,{className:"order-last sm:order-first",color:"inherit",onClick:function(e){return n((0,_.T2)())},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:x"})}),(0,z.jsxs)("div",{className:"flex flex-row items-center sm:items-start sm:flex-col flex-1",children:[(0,z.jsx)(j.Qr,{name:"dueDate",control:x,defaultValue:null,render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,z.jsx)(Be,{onDueChange:r,onRemoveDue:function(){return r(null)},dueDate:t})}}),(0,z.jsx)(j.Qr,{name:"labels",control:x,defaultValue:[],render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,z.jsx)(_e,{onToggleLabel:function(e){return r(k.Z.xor(t,[e]))},labels:t})}}),(0,z.jsx)(j.Qr,{name:"memberIds",control:x,defaultValue:[],render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,z.jsx)(Xe,{onToggleMember:function(e){return r(k.Z.xor(t,[e]))},memberIds:t})}}),(0,z.jsx)(j.Qr,{name:"attachments",control:x,defaultValue:[],render:function(e){var n=e.field;n.onChange,n.value;return(0,z.jsx)(N.Z,{size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:paper-clip"})})}}),(0,z.jsx)(j.Qr,{name:"checklists",control:x,defaultValue:[],render:function(e){var n=e.field,r=n.onChange;n.value;return(0,z.jsx)(He,{onAddCheckList:function(e){return r([].concat((0,fe.Z)(Z.checklists),[e]))}})}}),(0,z.jsx)(Ke,{onRemoveCard:function(){return n((0,_.yJ)())}})]})]})})]})}):null};var Ue=function(e){var n=(0,l.I0)(),r=(0,l.v9)(_.o1);return(0,z.jsx)(he.Z,{classes:{paper:"max-w-lg w-full m-8 sm:m-24"},onClose:function(e){return n((0,_.T2)())},open:r,children:(0,z.jsx)($e,{})})},Ge=r(61251),Je=r(76663),en=r(55409);var nn=function(e){var n=(0,l.I0)(),r=(0,l.v9)(h.ZO),t=(0,j.cI)({mode:"onChange",defaultValues:r.settings}),i=t.watch,a=t.control,o=t.reset,c=i(),u=(0,d.Nr)((function(e){n((0,h.wN)(e))}),600);return(0,d.KW)((function(){!k.Z.isEmpty(c)&&null!==r&&void 0!==r&&r.settings&&(k.Z.isEqual(r.settings,c)||u({settings:c}))}),[r,c,u]),(0,s.useEffect)((function(){r&&o(r.settings)}),[r,o]),k.Z.isEmpty(c)?null:(0,z.jsxs)("div",{children:[(0,z.jsx)(Ne.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,v.$n)(e.palette.background.default,.4):(0,v.$n)(e.palette.background.default,.02)}},className:"border-b-1",children:(0,z.jsxs)(en.Z,{className:"flex items-center px-4",children:[(0,z.jsx)(N.Z,{onClick:function(){return e.onSetSidebarOpen(!1)},color:"inherit",size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:x"})}),(0,z.jsx)(O.Z,{className:"px-4 font-medium text-16",color:"inherit",variant:"subtitle1",children:"Settings"})]})}),(0,z.jsxs)(Ze.Z,{className:"py-24",children:[(0,z.jsxs)(be.ZP,{children:[(0,z.jsx)(se.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:photograph"})}),(0,z.jsx)(ae.Z,{primary:"Card Cover Images"}),(0,z.jsx)(Ge.Z,{children:(0,z.jsx)(j.Qr,{name:"cardCoverImages",control:a,render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,z.jsx)(Je.Z,{onChange:function(e){r(e.target.checked)},checked:t})}})})]}),(0,z.jsxs)(be.ZP,{children:[(0,z.jsx)(se.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:eye-off"})}),(0,z.jsx)(ae.Z,{primary:"Subscribe"}),(0,z.jsx)(Ge.Z,{children:(0,z.jsx)(j.Qr,{name:"subscribed",control:a,render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,z.jsx)(Je.Z,{onChange:function(e){r(e.target.checked)},checked:t})}})})]}),(0,z.jsxs)(be.ZP,{button:!0,onClick:function(){return n((0,h.L1)(r.id))},children:[(0,z.jsx)(se.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:trash"})}),(0,z.jsx)(ae.Z,{primary:"Delete Board"})]})]})]})},rn=r(13663),tn=y.Ry().shape({title:y.Z_().required("You must enter a title")});var sn=function(e){var n=(0,l.I0)(),r=(0,l.v9)(h.ZO),i=(0,s.useState)(!1),a=(0,t.Z)(i,2),o=a[0],c=a[1],d=(0,j.cI)({mode:"onChange",defaultValues:{title:r.title},resolver:(0,Z.X)(tn)}),u=d.control,m=d.formState,x=d.handleSubmit,v=d.reset,p=m.isValid,b=m.dirtyFields;function y(){c(!1)}return m.errors,(0,s.useEffect)((function(){o||v({title:r.title})}),[o,v,r.title]),(0,z.jsx)("div",{className:"flex items-center min-w-0",children:o?(0,z.jsx)(g.Z,{onClickAway:y,children:(0,z.jsx)("form",{className:"flex w-full",onSubmit:x((function(e){n((0,h.wN)(e)),y()})),children:(0,z.jsx)(j.Qr,{name:"title",control:u,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{variant:"filled",margin:"none",autoFocus:!0,hiddenLabel:!0,InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{type:"submit",disabled:k.Z.isEmpty(b)||!p,size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:check"})})})}}))}})})}):(0,z.jsxs)("div",{className:"flex items-center justify-center space-x-12",children:[(0,z.jsx)(O.Z,{className:"text-14  sm:text-24 md:text-32 font-extrabold tracking-tight leading-none cursor-pointer",onClick:function(e){e.stopPropagation(),c(!0)},color:"inherit",children:r.title}),(null===r||void 0===r?void 0:r.settings.subscribed)&&(0,z.jsx)(I.Z,{children:"heroicons-outline:eye"})]})})};var an=function(e){return(0,z.jsxs)("div",{className:"p-24 sm:p-32 w-full border-b-1 flex flex-col sm:flex-row items-center justify-between container",children:[(0,z.jsx)("div",{className:"flex items-center mb-12 sm:mb-0",children:(0,z.jsx)(sn,{})}),(0,z.jsxs)("div",{className:"flex items-center justify-end space-x-12",children:[(0,z.jsx)(p.Z,{className:"whitespace-nowrap",component:rn.Z,to:"/apps/scrumboard/boards/",startIcon:(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:view-boards"}),children:"Boards"}),(0,z.jsx)(p.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return e.onSetSidebarOpen(!0)},startIcon:(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:cog"}),children:"Settings"})]})]})};var ln=(0,i.Z)("scrumboardApp",x.Z)((0,c.Z)((function(e){var n=(0,l.I0)(),r=(0,l.v9)(h.ZO),i=(0,m.Z)((function(e){return e.breakpoints.down("lg")})),c=(0,o.UO)(),x=(0,s.useState)(!1),f=(0,t.Z)(x,2),j=f[0],v=f[1];return(0,d.KW)((function(){return n((0,h.SZ)(c.boardId)),n((0,V.vm)(c.boardId)),n((0,S.yr)(c.boardId)),n((0,W.g7)(c.boardId)),function(){n((0,h.iH)())}}),[n,c]),r?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(u.Z,{header:(0,z.jsx)(an,{onSetSidebarOpen:v}),content:(0,z.jsx)(z.Fragment,{children:(null===r||void 0===r?void 0:r.lists)&&(0,z.jsx)("div",{className:"flex flex-1 overflow-x-auto overflow-y-hidden h-full",children:(0,z.jsx)(a.Z5,{onDragEnd:function(e){var r=e.source,t=e.destination;t&&(r.droppableId===t.droppableId&&r.index===t.index||("list"===e.type&&n((0,h.aD)(e)),"card"===e.type&&n((0,h.aO)(e))))},children:(0,z.jsx)(a.bK,{droppableId:"list",type:"list",direction:"horizontal",children:function(e){return(0,z.jsxs)("div",{ref:e.innerRef,className:"flex py-16 md:py-24 px-8 md:px-12",children:[null===r||void 0===r?void 0:r.lists.map((function(e,n){return(0,z.jsx)(xe,{listId:e.id,cardIds:e.cards,index:n},e.id)})),e.placeholder,(0,z.jsx)(R,{})]})}})})})}),rightSidebarOpen:j,rightSidebarContent:(0,z.jsx)(nn,{onSetSidebarOpen:v}),rightSidebarOnClose:function(){return v(!1)},scroll:i?"normal":"content",rightSidebarWidth:320}),(0,z.jsx)(Ue,{})]}):null})))},4663:function(e,n,r){var t,i,s,a,l,o,c,d,u,m,x,h,f=r(30168),j=r(63366),v=r(87462),Z=r(88391),p=r(23154),b=r(89932),g=r(847),N=r(76677),C=r(78641),w=r(83182),y=r(81087),k=r(17344),I=r(78689),S=r(23712),z=["className","color","value","valueBuffer","variant"],P=(0,g.F4)(c||(c=t||(t=(0,f.Z)(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),D=(0,g.F4)(d||(d=i||(i=(0,f.Z)(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),R=(0,g.F4)(u||(u=s||(s=(0,f.Z)(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),A=function(e,n){return"inherit"===n?"currentColor":"light"===e.palette.mode?(0,N.$n)(e.palette[n].main,.62):(0,N._j)(e.palette[n].main,.5)},E=(0,y.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n["color".concat((0,C.Z)(r.color))],n[r.variant]]}})((function(e){var n=e.ownerState,r=e.theme;return(0,v.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:A(r,n.color)},"inherit"===n.color&&"buffer"!==n.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===n.variant&&{backgroundColor:"transparent"},"query"===n.variant&&{transform:"rotate(180deg)"})})),L=(0,y.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,n){var r=e.ownerState;return[n.dashed,n["dashedColor".concat((0,C.Z)(r.color))]]}})((function(e){var n=e.ownerState,r=e.theme,t=A(r,n.color);return(0,v.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===n.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(t," 0%, ").concat(t," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,g.iv)(m||(m=a||(a=(0,f.Z)(["\n    animation: "," 3s infinite linear;\n  "]))),R)),V=(0,y.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,n){var r=e.ownerState;return[n.bar,n["barColor".concat((0,C.Z)(r.color))],("indeterminate"===r.variant||"query"===r.variant)&&n.bar1Indeterminate,"determinate"===r.variant&&n.bar1Determinate,"buffer"===r.variant&&n.bar1Buffer]}})((function(e){var n=e.ownerState,r=e.theme;return(0,v.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===n.color?"currentColor":r.palette[n.color].main},"determinate"===n.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===n.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var n=e.ownerState;return("indeterminate"===n.variant||"query"===n.variant)&&(0,g.iv)(x||(x=l||(l=(0,f.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),P)})),F=(0,y.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,n){var r=e.ownerState;return[n.bar,n["barColor".concat((0,C.Z)(r.color))],("indeterminate"===r.variant||"query"===r.variant)&&n.bar2Indeterminate,"buffer"===r.variant&&n.bar2Buffer]}})((function(e){var n=e.ownerState,r=e.theme;return(0,v.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==n.variant&&{backgroundColor:"inherit"===n.color?"currentColor":r.palette[n.color].main},"inherit"===n.color&&{opacity:.3},"buffer"===n.variant&&{backgroundColor:A(r,n.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var n=e.ownerState;return("indeterminate"===n.variant||"query"===n.variant)&&(0,g.iv)(h||(h=o||(o=(0,f.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),D)})),q=Z.forwardRef((function(e,n){var r=(0,k.Z)({props:e,name:"MuiLinearProgress"}),t=r.className,i=r.color,s=void 0===i?"primary":i,a=r.value,l=r.valueBuffer,o=r.variant,c=void 0===o?"indeterminate":o,d=(0,j.Z)(r,z),u=(0,v.Z)({},r,{color:s,variant:c}),m=function(e){var n=e.classes,r=e.variant,t=e.color,i={root:["root","color".concat((0,C.Z)(t)),r],dashed:["dashed","dashedColor".concat((0,C.Z)(t))],bar1:["bar","barColor".concat((0,C.Z)(t)),("indeterminate"===r||"query"===r)&&"bar1Indeterminate","determinate"===r&&"bar1Determinate","buffer"===r&&"bar1Buffer"],bar2:["bar","buffer"!==r&&"barColor".concat((0,C.Z)(t)),"buffer"===r&&"color".concat((0,C.Z)(t)),("indeterminate"===r||"query"===r)&&"bar2Indeterminate","buffer"===r&&"bar2Buffer"]};return(0,b.Z)(i,I.E,n)}(u),x=(0,w.Z)(),h={},f={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==a){h["aria-valuenow"]=Math.round(a),h["aria-valuemin"]=0,h["aria-valuemax"]=100;var Z=a-100;"rtl"===x.direction&&(Z=-Z),f.bar1.transform="translateX(".concat(Z,"%)")}else 0;if("buffer"===c)if(void 0!==l){var g=(l||0)-100;"rtl"===x.direction&&(g=-g),f.bar2.transform="translateX(".concat(g,"%)")}else 0;return(0,S.jsxs)(E,(0,v.Z)({className:(0,p.Z)(m.root,t),ownerState:u,role:"progressbar"},h,{ref:n},d,{children:["buffer"===c?(0,S.jsx)(L,{className:m.dashed,ownerState:u}):null,(0,S.jsx)(V,{className:m.bar1,ownerState:u,style:f.bar1}),"determinate"===c?null:(0,S.jsx)(F,{className:m.bar2,ownerState:u,style:f.bar2})]}))}));n.Z=q},78689:function(e,n,r){r.d(n,{E:function(){return i}});var t=r(36382);function i(e){return(0,t.Z)("MuiLinearProgress",e)}var s=(0,r(47467).Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);n.Z=s}}]);